# **BTCUSD 5分足予測のための特徴量ベース・アプローチにおける有効な特徴量に関する調査報告書**

## **I. 序論**

### **(A) 背景：短期仮想通貨予測の課題**

本報告書は、BTCUSD（ビットコイン/米ドル）の5分足という短期的な時間枠において、次の足の価格方向（高値/安値）を予測する機械学習モデルに焦点を当てる。特に、各時点での特徴量（価格、出来高、テクニカル指標などの「スナップショット」情報）に基づいて予測を行う「特徴量ベース・アプローチ」を採用する場合に有効と考えられる特徴量を調査する。  
仮想通貨市場、特にビットコインは、その高いボラティリティ（価格変動性）とノイズ、そして非定常的な性質により、短期的な価格予測が極めて困難な領域である。特に仮想通貨固有の高いボラティリティは、予測モデル構築における主要な課題となる。  
本報告書で検討する「特徴量ベース・アプローチ」または「スナップショット・アプローチ」は、特定の時点 t における特徴量のベクトルを用いて、次の時点 t+1 の結果（この場合は価格方向）を予測する手法である。これは、Long Short-Term Memory (LSTM) や Recurrent Neural Network (RNN) のような、時系列の依存関係を直接モデル化するシーケンスモデルとは対照的である。本アプローチの目標は、価格の上昇または下降を予測する二値分類問題である。

### **(B) 目的と範囲**

本報告書の目的は、提供された調査資料に基づき、上記の特定の予測タスク（スナップショットベース、5分足BTCUSD価格方向予測）に適した潜在的な特徴量を調査し、評価することである。調査範囲は、市場データ（OHLCV：始値、高値、安値、終値、出来高）および調査資料で言及されているテクニカル指標から導出可能な特徴量に限定する。各5分足のステップで計算可能な特徴量に焦点を当てる。

### **(C) 特徴量エンジニアリングの重要性**

金融市場における機械学習、特に高頻度取引の文脈では、モデルのチューニング以上に特徴量エンジニアリングが予測性能にとって重要であることが、多くの研究や実例（特にKaggleコンペティションの結果）で示唆されている。単一のスナップショット内で市場のダイナミクス（トレンド、モメンタム、ボラティリティ、出来高の圧力など）を捉えることができる特徴量を設計することが、モデルの成功に不可欠である。

## **II. 基本的なスナップショット特徴量：価格と出来高の派生**

### **(A) 基本的なOHLC変換**

予測モデルの入力として、現在の5分足のOHLC価格は最も基本的な情報源となる。これらの生データから、より有益な特徴量を生成できる。

* **対数リターン（Log Returns）：** 価格変動を表す標準的な方法として、log(Price\_t / Price\_{t-1}) または log(Price\_t) \- log(Price\_{t-1}) （通常は終値を使用）が用いられる。これは価格変動率を連続的に表現し、時系列データの分散を安定させる効果も期待できる。KaggleのG-Research Crypto Forecastingコンペティションの上位解法でも、終値ベースの変化率特徴量が重要視されていた。S20ではターゲット変数が残差リターンとして定義されており、S57やS101では対数リターンの計算式が示されている。  
  * **スナップショットモデルへの適用：** 通常、対数リターンは期間間の変化を測定する。しかし、時点 t のスナップショット情報に基づいて時点 t+1 を予測するモデルの場合、時点 t のローソク足自体の情報が重要となる。したがって、現在のローソク足の内部的な動きを示す log(Close\_t / Open\_t) や、直前の終値からの変化を示す log(Close\_t / Close\_{t-1}) が直接的な特徴量候補となる。これらは時点 t における最新の価格変動を捉える。  
* **価格レンジ / ボラティリティ（Price Range / Volatility）：** (High\_t \- Low\_t) や (High\_t \- Low\_t) / Close\_t、(Close\_t \- Open\_t) といった特徴量は、現在の5分足ローソク足内のボラティリティや値動きの幅を示す。  
* **価格比率（Price Ratios）：** Close\_t / Open\_t や High\_t / Low\_t といった比率は、ローソク足内部での相対的な価格変動を捉える。

### **(B) 出来高ベースの特徴量（Volume-Based Features）**

出来高は市場参加者の活動度や関心を示す重要な指標である。

* **生出来高（Raw Volume）：** 現在の5分足の取引出来高 (Volume)。  
* **出来高変化率（Volume Change）：** Volume\_t / Volume\_{t-1} や log(Volume\_t / Volume\_{t-1}) は、取引活動の変化を捉える。  
* **出来高と価格の相互作用（Volume-Price Interaction）：** Volume \* (Close \- Open) や Volume \* log(Close/Open) のような単純な特徴量は、価格変動の背後にある確信度（買い圧力や売り圧力の強さ）を捉える可能性がある。  
* **約定回数（Trade Count）：** その時間間隔内の取引回数 (Count)。出来高が多くても約定回数が少なければ大口注文の可能性を示唆し、出来高も約定回数も多ければ広範な市場参加を示唆する。S69では、高ボラティリティの仮想通貨は取引量が多い傾向があると指摘されている。  
  * **出来高の相対性：** 絶対的な出来高の値は時間帯や市場状況によって大きく変動するため、単独での利用は情報量が少ない場合がある。最近の平均出来高で正規化したり、変化率を計算したりすることで、より安定した特徴量となる。また、出来高を価格変動と組み合わせることで、「上昇時の出来高増加は上昇トレンドの確認」、「下落時の出来高増加は売り圧力の示唆」といった仮説を直接特徴量としてモデルに与えることができる。

## **III. テクニカル指標の時点特徴量化**

テクニカル指標は、過去の価格や出来高データから計算される統計量であり、市場のトレンド、モメンタム、ボラティリティなどを捉えるために広く利用されている。スナップショットモデルにおいては、これらの指標の計算に過去のデータ（ルックバック期間）が必要であっても、モデルへの入力としては時点 t における指標の「値」そのものが特徴量となる。モデルは指標の過去の推移を直接見るのではなく、時点 t における指標の状態から将来の価格方向を学習する。

### **(A) モメンタムオシレーター（Momentum Oscillators）**

モメンタムオシレーターは、価格変動の速度や変化率を測定し、買われすぎや売られすぎの状態を示すことが多い。

* **RSI (Relative Strength Index):** 時点 t におけるRSI値を使用する。多くの研究でその重要性が指摘されている。特にS8とS42では、XGBoostモデルにおいてカイ二乗検定によりRSI14とRSI30が重要特徴量として特定されている。S5はトレンド相場とレンジ相場でのRSIの挙動の違いを論じ、S44とS68は買われすぎ/売られすぎやダイバージェンスの判定にRSIが利用されることを示している。  
* **MACD (Moving Average Convergence Divergence):** 時点 t におけるMACDライン、シグナルライン、ヒストグラムの値を使用する。S8とS42ではMACDがトップクラスの重要特徴量として挙げられている。S5はトレンド判定におけるMACDの利用法を説明し、S40、S67、S68はクロスオーバーやヒストグラムの解釈について述べている。S46では適応型MACDにも言及がある。  
* **ストキャスティクス (%K, %D):** 時点 t における%K値と%D値を使用する。S8とS42では%K30, %D30, %K200, %D200が重要特徴量として特定されている。S5はトレンド相場とレンジ相場での挙動の違いを議論し、S67は買われすぎ/売られすぎレベルについて言及している。  
* **CCI (Commodity Channel Index):** 時点 t におけるCCI値を使用する。S8とS42では潜在的な特徴量として挙げられ、B3でも言及されている。  
* **モメンタム (MOM):** 時点 t におけるMOM値を使用する。S8とS42ではMOM30が重要特徴量として特定されている。  
  * **オシレーターの状態の利用：** スナップショットモデルでは、オシレーターの絶対的な「レベル」（例：RSI \> 70、%K \< 20）や、その直近の「方向性」（例：直近のローソク足でRSIが上昇したか下降したかを示す RSI\_t \- RSI\_{t-1}）が重要な特徴量となる。モデルはこれらの「状態」が将来の価格変動を予測する力を持つかどうかを学習する。これは、過去のデータ系列を必要とする伝統的なクロスオーバーシグナルとは異なるアプローチである。時点 t でRSIが80であるという事実は、それ自体が特徴量となる。この状態が次の5分間（t+1）の反転を予測するかどうかをモデルが学習するのである。

### **(B) トレンド・ボラティリティ指標（Trend and Volatility Indicators）**

これらの指標は、市場の方向性や価格変動の大きさを示す。

* **移動平均線 (MA, SMA, EMA):** 時点 t における移動平均線の値そのものを使用する。様々な期間が用いられる（例：S8/S42ではシグナル生成にMA(10, 60)を使用、S17はSMA, EMAを使用、S134はSMA, EMAを使用、S86は短期/中期/長期を使用）。  
* **価格と移動平均線の関係:** (Close\_t \- MA\_t) や Close\_t / MA\_t のような、価格と移動平均線の乖離、距離、比率を示す特徴量が重要である。S134は価格をSMA/EMAで正規化しており、S137は乖離率 (Disp\_k) や傾き (Grad\_k) を使用している。S133は機械学習移動平均（MLMA）と距離バンドを導入している。  
* **ボリンジャーバンド (BB):** 時点 t における上限バンド、下限バンド、ミドルバンド（SMA）、バンド幅 ((Upper \- Lower) / Middle) の値を使用する。S44とS68は買われすぎ/売られすぎやトレンドフォローでのバンド利用法を議論している。S8とS42はBBを重要な指標として言及している。特徴量として、バンド内での価格の位置を示す (Close \- Middle Band) / Bandwidth も考えられる。  
* **ATR (Average True Range):** 時点 t におけるATR値をボラティリティの尺度として使用する。S42には計算式が含まれている。S38とS45はボラティリティ理解やストップロス設定（特徴量生成には直接関係ない）での利用について述べている。  
* **ADX (Average Directional Index):** 時点 t におけるADX、+DI、-DIの値を使用する。S38とS40は、ADXがトレンドの「強さ」を測るものであり、「方向」を示すものではないことを強調している。S39はADXが閾値を超えた場合にエントリーする戦略を示している。特徴量としてADX値自体や、方向性を示す \+DI \- \-DI が考えられる。  
  * **相対的な位置付けの重要性：** スナップショットモデルにおいては、指標の値そのものよりも、価格と指標との「関係性」を示す特徴量（例：価格/MA比率、ボリンジャーバンド内での位置）の方が強力である可能性が高い。これらの特徴量は、現在の価格を最近のトレンドやボラティリティの文脈の中に位置づけるためである。例えば、移動平均線の値が50,000ドルであること自体は情報量が少ないが、現在の価格がこの移動平均線より1%上にある（Close/MA \= 1.01）ことを知れば、最近のトレンド平均に対する価格の位置が即座に理解できる。同様に、価格がボリンジャーバンドの上限に接触していることを知れば、ボラティリティに関する即時の文脈が得られる。これらの相対的な特徴量は、本質的にスナップショットベースである。

### **(C) 出来高ベースの指標（Volume-Based Indicators）**

出来高情報を取り込んだ指標も、市場の圧力や流動性を評価する上で有用である。

* **OBV (On Balance Volume):** 時点 t におけるOBVの値、またはその変化量 (OBV\_t \- OBV\_{t-1}) を使用する。S64、S65、S66では、機械学習予測研究で使用された特徴量としてOBVが明示的に言及されている。S68は方向性のある出来高を評価するためにOBVに言及し、S136はテクニカル指標リストに含めている。  
* **VWAP (Volume Weighted Average Price):** 時点 t におけるVWAP値を使用する。特徴量として Close \- VWAP や Close / VWAP が考えられる。S60はVWAP達成の難しさや機械学習アプローチについて議論している。S116とS120は先物分析でVWAPとその標準偏差を使用している。S20とS96は生データにVWAPを含んでいる。  
* **出来高プロファイル特徴量 (POC, VAH, VAL):** 直近のルックバック期間（例：過去N本、セッション）に基づいてこれらを計算する。時点 t における特徴量として、Close \- POC、Close \- VAH、Close \- VAL や、比率 Close/POC などが考えられる。S110はPOC、VAを定義している。S111、S112はPOCを重要なレベルとして説明している。S113は出来高棚（HVN/LVN）について議論している。S114はPOCロジックを使用している。S115はVAレベルに基づいた取引を示している。S116からS121はVAH/VALをサポート/レジスタンスとして議論している。  
  * **出来高プロファイルの適用：** 出来高プロファイル特徴量は、スナップショットモデル用に慎重に定義する必要がある。ローリングウィンドウ（例：過去100本の5分足）で出来高プロファイルを計算することにより、各ステップ t でPOC、VAH、VALを導出できる。これらの動的なレベルからの現在価格の「距離」が特徴量となる。出来高プロファイルは通常、固定期間（日次、週次など）で計算される。連続的な5分足スナップショットモデルの場合、これらの特徴量を動的に生成するにはローリングウィンドウアプローチが必要となる。重要な点は、出来高から導出されたこれらの構造点（POC、VAH、VAL）に対する現在価格の相対的な位置が、潜在的なサポート/レジスタンスや市場の受容度に関する貴重な文脈を提供し、Close\_t \- POC\_t のような特徴量を予測的にするということである。

## **IV. 高度な特徴量エンジニアリングの概念**

基本的な価格・出来高データや標準的なテクニカル指標に加え、より洗練された特徴量エンジニアリング手法を適用することで、モデルの予測能力をさらに向上させることが期待できる。

### **(A) 数値化されたローソク足特徴量（Numerical Candlestick Features）**

ローソク足の形状は、市場参加者の心理や勢いを反映すると考えられており、これを数値化して機械学習モデルの入力とすることが有効な場合がある。

* **実体に関する特徴量（Body Features）：** abs(Close \- Open)（実体の大きさ）、(Close \- Open) / (High \- Low)（実体比率）。  
* **ヒゲに関する特徴量（Wick Features）：** (High \- max(Open, Close))（上ヒゲの長さ）、(min(Open, Close) \- Low)（下ヒゲの長さ）。  
* **ヒゲの比率（Wick Ratios）：** Upper Wick / (High \- Low)（上ヒゲ比率）、Lower Wick / (High \- Low)（下ヒゲ比率）、Upper Wick / Lower Wick（上下ヒゲ比率）など。S99は機械学習用に実体/ヒゲのサイズと比率を計算する詳細を明記している。  
* **ローソク足パターンフラグ（Candle Type Flags）：** 特定のパターン（例：同時線、ハンマー、包み線）が形成されたかどうかを示すブール値（0または1）の特徴量。これはOHLC値にルールを適用して生成される。S104、S108は多くのパターンをリストアップしており、S103はルールベースシステムを使用している。  
  * **パターンエンコーディング：** 複雑な画像認識アプローチ ではなく、標準的な特徴量ベクトルアプローチには、実体とヒゲの比率を捉える単純な数値特徴量 や、明確に定義された特定のパターン（同時線や丸坊主など）に対するバイナリフラグの方が適している。モデルはこれらの数値的な形状記述子に関連する予測力を学習する。画像ベースのCNN は異なるモデリングパラダイムである。特徴量ベクトルモデルには数値入力が必要である。「実体サイズ / 全体レンジ」や「上ヒゲ / 下ヒゲ」のような比率を計算することで、ローソク足の形状が定量化される。「Is\_Hammer \= 1（条件を満たす場合）、そうでなければ0」のようなバイナリフラグを作成することで、既知のパターンが直接エンコードされる。これにより、視覚的なパターンが機械学習で消化可能な特徴量に変換される。S52では画像データのみの場合と比較してパターンが性能を向上させなかったと指摘されているが、S53、S55、S101、S104では有用であったとされており、アプローチや文脈による違いが示唆される。

### **(B) 時間ベースの特徴量（Time-Based Features）**

取引時間帯や曜日によるアノマリー（周期的なパターン）が存在する可能性があり、これらを特徴量として組み込むことが有効な場合がある。

* **時刻（Time of Day）：** 時間（Hour）と分（Minute）を抽出する。周期性を表現するために、サイン/コサイン変換（例：sin(2 \* pi \* hour / 24), cos(2 \* pi \* hour / 24)）を用いる。日中のパターンが観察されている。S131は取引所の開閉時間の影響を指摘し、S124は日中のクラスタリングに言及している。  
* **曜日（Day of Week）：** 曜日（0-6）を抽出する。カテゴリ変数として扱うか、サイン/コサイン変換（例：sin(2 \* pi \* day / 7)）を用いる。曜日効果に関する研究は存在するが、結果は様々である。S130はビットコインに月曜効果を発見し、S132は週末のボラティリティ低下と月/火のボラティリティ上昇を発見した。S129は通貨やモデルによって異なる効果を発見している。  
  * **周期性のエンコーディング：** 時間（0-23）や曜日（0-6）を単純な数値特徴量として使用すると、モデルは23時が0時から遠いと誤解する可能性がある。サイン/コサイン変換を使用することで、周期性が正しく捉えられ、モデルが時間ベースのパターン（S131で言及されている取引所開閉時間周辺の活動スパイクなど）を理解しやすくなる。時間は周期的である。標準的な数値エンコーディングはそれを線形に扱う。サインおよびコサイン変換は時間を円上にマッピングし、サイクルの境界に近い時間（例：23:55と00:05）が特徴空間内で近く表現されることを保証する。これは線形エンコーディングよりも現実をより良く反映し、機械学習モデルが周期的なパターンをより効果的に学習できるようにする。

### **(C) 特徴量の相互作用と組み合わせ（Feature Interactions and Combinations）**

既存の特徴量を組み合わせることで、新たな、より強力な特徴量を作成できる場合がある。

* **指標間の比率/差分:** 例：RSI / ADX, MACD\_Histogram \- MOM。  
* **価格と指標の積:** 例：Close \* RSI\_Slope, Volume \* (Close/MA\_Ratio)。  
* **条件付き特徴量:** 例：RSI \> 70 なら Volume、そうでなければ 0。  
* **多項式/非線形特徴量:** 二乗項や交互作用項 (feature1 \* feature2) などを作成し、線形モデルが非線形性を捉えるのを助ける。S82はARMA（線形）とCNN-LSTM（非線形）を明示的に組み合わせている。S122は多項式自己回帰を使用している。  
  * **相互作用の力：** XGBoostやランダムフォレストのようなツリーベースモデル は、特徴量の相互作用を暗黙的に捉えることができる。しかし、相互作用を明示的に設計した特徴量（例：Volume \* Momentum）は、これらのモデルの性能をさらに向上させることがあり、また、ロジスティック回帰のような単純なモデルの性能を大幅に向上させる可能性がある。非線形変換は、市場の複雑なダイナミクスを捉えるのに役立つ。金融市場は、要因が非線形に相互作用する複雑なシステムである。複雑なモデルはいくつかの相互作用を処理できるが、「出来高が高く、かつモメンタムが正であるか？」のような仮説的な相互作用を表す特徴量を明示的に作成することで、これらの関係をモデルにとってより顕著にすることができる。この前処理は、ドメイン知識や仮説を特徴量セットに直接エンコードする。

### **(D) 正規化と変換（Normalization and Transformation）**

特定のモデル（SVM、ニューラルネットワーク、ロジスティック回帰など）では、特徴量のスケーリングや正規化（例：StandardScaler、MinMaxScaler）が重要となる。対数変換、差分、比率計算 などにより、時系列の定常性を確保したり、より安定した特徴量を作成したりすることがある。S42は正規化された一次差分を使用し、S134は価格をMAで正規化し、S137はパーセント乖離/傾きを使用している。

## **V. 特徴量の関連性と選択に関する洞察**

どの特徴量が予測に有効かは、データやモデル、予測対象によって異なるため、過去の研究結果を参考にしつつ、実証的な検証が不可欠である。

### **(A) 研究からの証拠**

* S8/S42 (XGBoost Classification): カイ二乗検定により、RSI30, MACD, MOM30, %D30, %D200, %K200, %K30, RSI14 が重要とされた。  
* B2 (XGBoost Regression): EMA, MACD, RSI, MOM, %K, PROC, OHLCV, 出来高指標を使用。価格予測において非常に高いR² (0.9999) を達成。MAE/RMSEも低かった。これは、これらの特徴量が価格変動の分散を非常によく捉えていることを示唆する（ただし、ユーザーの目標は方向予測）。  
* B4 (Random Forest Regression): 価格予測において、テクニカル指標（ハッシュレート、ブロックあたりトランザクション数）よりも金融データ（日経300、ダウ平均など）の方が重要であると結論付けた。  
  * **矛盾/ニュアンス:** これはS8/S42の結果と対立するように見える。考えられる理由として、モデルの違い（RF対XGBoost）、テストされた特徴量の違い（B4はマクロ/ハッシュレート、S8は標準的なTIを使用）、予測対象の違い（B4は価格レベル、S8/S42は方向）が挙げられる。  
* S19 (DNN Classification): MACD, RSI, OVA (On Volume Average?) を使用。  
* S43 (SVM Regression): 終値、高値、安値に基づき、MA, ADX, SAR, MACD, ROC, CCIを使用。  
* S64, S65, S66 (Various ML): SMA, RSI, MACD, OBVの使用に言及。  
* S125 (Various ML): Accumulation/Distribution, MFI, Bollinger Bands, Keltner Channel Width, Parabolic SARを使用。  
* S136 (Various ML): MA, EMA, RSI, OBVを使用。

### **(B) 特徴量選択手法**

研究で使用された手法として、カイ二乗検定 や、モデル出力から推測される重要度（例：RF/XGBoostの特徴量重要度）がある。最適な特徴量は、特定のモデル、データ、予測期間に依存するため、経験的なテストが必要である。

### **(C) 矛盾とニュアンスへの対応**

B4（金融データ \> テクニカル指標）とS8/S42（テクニカル指標が鍵）の間の明らかな矛盾について考察する。

* **文脈の重要性：** 特徴量の重要性は文脈に強く依存する。結果に影響を与える要因には、使用モデル（RF vs XGBoost）、特徴量セット（B4はマクロデータやブロックチェーン指標を含むが、S8/S42は価格/出来高由来の標準的なTIに焦点を当てている）、予測ターゲット（B4は価格レベル（回帰）、S8/S42は方向（分類））、時間枠などが含まれる。  
  * 普遍的な「最良の」特徴量セットは存在しない。B4の結果は、すべてのモデル/タスクにおいてテクニカル指標が無効であることを意味するわけではない。彼らの特定のRFモデルで価格レベルを予測する場合、マクロ要因やハッシュレートは金融指数よりも予測力が低かったことを示唆している。一方、S8/S42は、彼らのXGBoostモデルで方向を予測する場合、特定の標準的なテクニカル指標がカイ二乗検定によれば非常に予測的であったことを示している。これは、特徴量選択が特定の課題（5分足の方向予測）と選択されたモデルタイプに合わせて調整されなければならないことを強調している。利用者は標準的なTIのテストを優先すべきだが（S8/S42に従って）、他のデータタイプも組み込まれれば関連性を持つ可能性があることを認識しておく必要がある。

## **VI. 統合と推奨事項**

### **(A) 有望な特徴量カテゴリの要約**

本報告書で特定された主要な特徴量カテゴリを再確認する：価格/出来高派生、モメンタムオシレーター、トレンド/ボラティリティ指標、出来高ベース指標、数値化されたローソク足特徴量、時間ベース特徴量、相互作用特徴量。

### **(B) スナップショットモデルのための推奨コア特徴量セット**

研究における収束性とスナップショット予測への適合性に基づき、出発点となる特徴量セットを提案する。

| カテゴリ | 特徴量例 | 目的 / 捉える情報 | 関連資料例 |
| :---- | :---- | :---- | :---- |
| **価格/出来高派生** | log(Close\_t / Open\_t) | ローソク足内部の対数リターン | B6 |
|  | log(Close\_t / Close\_{t-1}) | 直近の終値からの対数リターン | S74, B6 |
|  | (High\_t \- Low\_t) / Close\_t | 正規化されたローソク足レンジ（ボラティリティ） |  |
|  | Volume\_t | 現在の出来高 | S17, S20 |
|  | log(Volume\_t / Volume\_{t-1}) | 出来高の対数変化率 | S57 |
|  | Count\_t | 約定回数 | S20, S96 |
| **モメンタム** | RSI(14)\_t | 相対力指数（買われすぎ/売られすぎ） | S8, S42, S5 |
|  | MACD\_Histogram\_t | MACDヒストグラム（モメンタムの強さと方向） | S8, S42, S5 |
|  | %K(14,3)\_t, %D(14,3)\_t | ストキャスティクス（買われすぎ/売られすぎ） | S8, S42, S5 |
| **トレンド/ボラティリティ** | Close\_t / EMA(20)\_t | 価格と短期EMAの比率（トレンドからの乖離） | S134, S137 |
|  | BB\_Width(20,2)\_t | ボリンジャーバンド幅（ボラティリティ） | S8, S44 |
|  | (Close\_t \- BB\_Mid(20,2)\_t) / BB\_Width\_t | ボリンジャーバンド内での価格位置 | S44 |
|  | ATR(14)\_t | 平均真の範囲（ボラティリティ） | S38, S42, S45 |
|  | ADX(14)\_t | 平均方向性指数（トレンドの強さ） | S38, S40, S43 |
| **出来高** | OBV\_t \- OBV\_{t-1} | オンバランスボリュームの変化量 | S64, S66 |
|  | Close\_t / VWAP\_t | 価格と出来高加重平均価格の比率 | S20, S116 |
|  | Close\_t \- POC(Rolling)\_t | 価格とローリングPOCの差 | S110, S111 |
| **ローソク足** | Body / Range Ratio | 実体/全体レンジ比率 | S99 |
|  | Upper Wick / Range Ratio | 上ヒゲ/全体レンジ比率 | S99 |
|  | Lower Wick / Range Ratio | 下ヒゲ/全体レンジ比率 | S99 |
| **時間** | sin(2\*pi\*Hour/24), cos(2\*pi\*Hour/24) | 時刻の周期性 | S131 |
|  | sin(2\*pi\*DayOfWeek/7), cos(2\*pi\*DayOfWeek/7) | 曜日の周期性 | S130, S132 |

### **(C) 今後の進め方：実証的検証**

提案された特徴量セットは、理論的根拠に基づく出発点である。これらの特徴量が特定のタスク（5分足BTCUSD方向予測）に対して実際にどの程度の予測力を持つかは、選択された機械学習モデル（例：XGBoost, LightGBM, ロジスティック回帰, ランダムフォレスト）を用いた厳密なバックテスト および、可能であればフォワードテストによって検証する必要がある。その際、時系列データに適した交差検証手法（例：S20, S88で言及されているEmbargo CV）を用いることが重要である。

### **(D) 結論**

慎重に設計されたスナップショット特徴量を用いた特徴量ベースのアプローチは、短期的な仮想通貨価格予測において有望な可能性を秘めている。本報告書で概説した多様な特徴量カテゴリ（価格、出来高、テクニカル指標、ローソク足形状、時間情報、相互作用）は、モデル構築のための豊富な基盤を提供する。しかし、仮想通貨市場の複雑性と変動性を考慮すると、最適な特徴量セットの特定とモデルの維持には、継続的な研究、実証的な検証、そして市場環境の変化への適応が不可欠である。